<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<link href="https://fonts.googleapis.com/css?family=Nunito:400,600,700" rel="stylesheet">
<head>
    <meta charset="UTF-8">
    <link th:href="@{/css/style.css}" rel="stylesheet"/>

    <title>Homepage</title>
</head>
<body>

<div id="user_div" class="loggedin-div">
    <center><h3>Welcome User</h3></center>
    <p id="user_para">Welcome to Firebase web login Example. You're currently logged in.</p>
    <button onclick="logout()">Logout</button>
</div>


<script src="https://www.gstatic.com/firebasejs/4.8.1/firebase.js"></script>
<script type="text/javascript" th:src="@{/js/mainPage.js}"></script>
<script>
    var config = {
        apiKey: "AIzaSyDxiSglc8jYouMhhYMc_wz43j4uS53UEYE",
        authDomain: "speech2text-50475.firebaseapp.com",
        databaseURL: "https://speech2text-50475-default-rtdb.firebaseio.com",
        projectId: "speech2text-50475",
        storageBucket: "speech2text-50475.appspot.com",
        messagingSenderId: "433899594110",
        appId: "1:433899594110:web:dcf0c617e373a77b28d32f",
        measurementId: "G-M8PVV5CDRL"
    };
    firebase.initializeApp(config);

    document.getElementById("user_div").style.display = "block";

    firebase.auth().onAuthStateChanged(function(user) {
        if (user) {
            var email_id = user.email;
            document.getElementById("user_para").innerHTML = "Welcome User : " + email_id;
            // User is signed in.
        } else {
            // No user is signed in.
        }
    });

    function logout(){

        firebase.auth().signOut();
        window.location.replace("http://localhost:8080/");

    }
</script>
</body>
</html>